<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Recomeço</title>
    <link href="https://fonts.googleapis.com/css2?family=Badger+Super+Heavy&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #2e2e2e;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
        }

        h1.site-title {
            font-family: 'Badger Super Heavy', Arial, sans-serif;
            font-size: 2.5em;
            margin-top: 20px;
            margin-bottom: 20px;
            text-align: center;
        }

        .container {
            width: 100%;
            max-width: 600px;
            padding: 20px;
            margin: 10px;
            background: #3a3a3a;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            align-items: center; /* Centraliza os itens horizontalmente */
            justify-content: center; /* Centraliza os itens verticalmente */
        }

        .hidden {
            display: none;
        }

        label {
            display: block;
            margin-top: 10px;
            font-weight: bold;
            text-align: center; /* Centraliza o texto do label */
        }

        input, select, textarea {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #555;
            border-radius: 5px;
            background-color: #2e2e2e;
            color: #fff;
        }

        button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 1em;
            background-color: #555; /* Cor padrão do botão */
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: not-allowed; /* Cursor padrão quando desabilitado */
        }

        button.enabled {
            background-color: #009929; /* Cor verde quando habilitado */
            cursor: pointer; /* Cursor quando habilitado */
        }

        button:disabled {
            background-color: #555;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <h1 class="site-title">O Recomeço</h1>

    <!-- Página de Entrada -->
    <div id="pageStart" class="container">
        <p>Bem-vindo ao jogo! Clique no botão abaixo para começar.</p>
        <button id="startButton">Começar</button>
    </div>

    <!-- Página de Descrição do Personagem -->
    <div id="pageCharacterData" class="container hidden">
        <label for="characterName">Nome do Personagem:</label>
        <input id="characterName" type="text">

        <label for="playerName">Nome do Jogador:</label>
        <input id="playerName" type="text">

        <label for="characterAge">Idade do Personagem (20 a 40):</label>
        <input id="characterAge" type="number" min="20" max="40">

        <button id="nextButton" disabled>Avançar ➞</button>
    </div>

    <!-- Página de Atributos -->
    <div id="pageAttributes" class="container hidden">
        <h2>Distribua os Atributos</h2>

        <label for="characterClass">Classe do Personagem:</label>
        <select id="characterClass">
            <option value="">Selecione...</option>
            <option value="Batedor">Batedor</option>
            <option value="Engenhoqueiro">Engenhoqueiro</option>
            <option value="Cuidador">Cuidador</option>
            <option value="Mercador/Negociante">Mercador/Negociante</option>
            <option value="Abelha">Abelha</option>
            <option value="Mundano">Mundano</option>
            <option value="Mestre">Mestre</option>
        </select>

        <div id="attributesContainer">
            <h3>Atributos</h3>
            <div>
                <label>Astúcia:</label>
                <button onclick="adjustValue('astucia', -1)">-</button>
                <span id="astucia">1</span>
                <button onclick="adjustValue('astucia', 1)">+</button>
            </div>
            <div>
                <label>Agilidade:</label>
                <button onclick="adjustValue('agilidade', -1)">-</button>
                <span id="agilidade">1</span>
                <button onclick="adjustValue('agilidade', 1)">+</button>
            </div>
            <div>
                <label>Força:</label>
                <button onclick="adjustValue('forca', -1)">-</button>
                <span id="forca">1</span>
                <button onclick="adjustValue('forca', 1)">+</button>
            </div>
            <div>
                <label>Vigor:</label>
                <button onclick="adjustValue('vigor', -1)">-</button>
                <span id="vigor">1</span>
                <button onclick="adjustValue('vigor', 1)">+</button>
            </div>
            <div>
                <label>Charme:</label>
                <button onclick="adjustValue('charme', -1)">-</button>
                <span id="charme">1</span>
                <button onclick="adjustValue('charme', 1)">+</button>
            </div>
        </div>
        <p id="pointsInfo">Total distribuído: 0 / Máximo: 20</p>

        <label id="mestreLabel" class="hidden" for="mestreField">Senha para Mestre:</label>
        <input id="mestreField" class="hidden" type="password">

        <button id="nextButtonAttributes" disabled>Avançar ➞</button>
    </div>

    <!-- Página de Habilidades Anomalias -->
    <div id="pageAnomalySkills" class="container hidden">
        <h2>Habilidades Anomalias</h2>
        <label for="anomalySkill">Escolha uma habilidade:</label>
        <select id="anomalySkill">
            <option value="">Selecione...</option>
            <option value="Infiltrar">Infiltrar</option>
            <option value="Enfrentando Os Medos">Enfrentando Os Medos</option>
            <option value="Fênix">Fênix</option>
        </select>

        <div id="secondaryClassContainer" class="hidden">
            <label for="secondaryClass">Escolha sua classe:</label>
            <select id="secondaryClass">
                <option value="">Selecione...</option>
                <option value="Batedor">Batedor</option>
                <option value="Engenhoqueiro">Engenhoqueiro</option>
                <option value="Cuidador">Cuidador</option>
                <option value="Mercador/Negociante">Mercador/Negociante</option>
                <option value="Abelha">Abelha</option>
                <option value="Mundano">Mundano</option>
            </select>
        </div>

        <button id="nextButtonAnomalies" disabled>Avançar ➞</button>
    </div>

    <!-- Página de Habilidades Padrão -->
    <div id="pageStandardSkills" class="container hidden">
        <h2>Habilidades Padrão</h2>
        <p>Escolha suas habilidades padrão:</p>
        <div id="skillsContainer">
            <label><input type="checkbox" class="skillCheckbox"> Habilidade 1</label>
            <label><input type="checkbox" class="skillCheckbox"> Habilidade 2</label>
            <label><input type="checkbox" class="skillCheckbox"> Habilidade 3</label>
            <label><input type="checkbox" class="skillCheckbox"> Habilidade 4</label>
            <label><input type="checkbox" class="skillCheckbox"> Habilidade 5</label>
            <label><input type="checkbox" class="skillCheckbox"> Habilidade 6</label>
            <label><input type="checkbox" class="skillCheckbox"> Habilidade 7</label>
            <label><input type="checkbox" class="skillCheckbox"> Habilidade 8</label>
            <label><input type="checkbox" class="skillCheckbox"> Habilidade 9</label>
            <label><input type="checkbox" class="skillCheckbox"> Habilidade 10</label>
            <label><input type="checkbox" class="skillCheckbox"> Habilidade 11</label>
        </div>
        <p id="skillsRemaining">Habilidades restantes: 2</p>
        <button id="nextButtonStandardSkills" disabled>Avançar ➞</button>
    </div>

    <!-- Página de Desfecho -->
    <div id="pageEnd" class="container hidden">
        <h2>Desfecho</h2>
        <p>Selecione uma Campanha:</p>
        <label for="campaign">Campanha Disponível:</label>
        <select id="campaign">
            <option value="">Selecione...</option>
            <option value="Recomeço">Recomeço</option>
        </select>

        <label for="campaignCode">Insira o código da campanha:</label>
        <input id="campaignCode" type="text" placeholder="Código da Campanha">

        <button id="finishButton" disabled>Entrar na Campanha</button>
    </div>

    <script>
        const startButton = document.getElementById('startButton');
        const characterName = document.getElementById('characterName');
        const playerName = document.getElementById('playerName');
        const characterAge = document.getElementById('characterAge');
        const characterClass = document.getElementById('characterClass');
        const mestreField = document.getElementById('mestreField');
        const mestreLabel = document.getElementById('mestreLabel');
        const nextButton = document.getElementById('nextButton');
        const nextButtonAttributes = document.getElementById('nextButtonAttributes');
        const nextButtonAnomalies = document.getElementById('nextButtonAnomalies');
        const nextButtonStandardSkills = document.getElementById('nextButtonStandardSkills');
        const totalPointsElement = document.getElementById('pointsInfo');
        const skillsCheckboxes = document.querySelectorAll('.skillCheckbox');
        const skillsRemaining = document.getElementById('skillsRemaining');

        const attributes = {
            astucia: 1,
            agilidade: 1,
            forca: 1,
            vigor: 1,
            charme: 1
        };

        let selectedClass = ""; // Variável para armazenar a classe selecionada
        let selectedSkills = 0; // Contador de habilidades selecionadas

        // Evento para iniciar o jogo
        startButton.addEventListener('click', () => {
            showPage(1); // Avança para a página de descrição do personagem
        });

        // Validação da página de Dados do Personagem
        function validateCharacterData() {
            if (characterName.value && playerName.value && characterAge.value >= 20 && characterAge.value <= 40) {
                nextButton.disabled = false;
                nextButton.classList.add('enabled');
            } else {
                nextButton.disabled = true;
                nextButton.classList.remove('enabled');
            }
        }

        characterName.addEventListener('input', validateCharacterData);
        playerName.addEventListener('input', validateCharacterData);
        characterAge.addEventListener('input', validateCharacterData);

        nextButton.addEventListener('click', () => {
            showPage(2); // Avança para a página de atributos
        });

        // Validação da página de Atributos
        function validateAttributes() {
            const totalPoints = Object.values(attributes).reduce((a, b) => a + b, 0);
            const maxPoints = characterAge.value / (selectedClass === "Mundano" ? 5 : 4) + (selectedClass === "Mundano" ? 4 : 5);

            if (totalPoints === Math.floor(maxPoints)) {
                nextButtonAttributes.disabled = false;
                nextButtonAttributes.classList.add('enabled');
            } else {
                nextButtonAttributes.disabled = true;
                nextButtonAttributes.classList.remove('enabled');
            }
        }

        // Ajuste de valores de atributos
        function adjustValue(attribute, delta) {
            const age = characterAge.value; // Obtém a idade do personagem
            const totalPoints = Object.values(attributes).reduce((a, b) => a + b, 0);
            const maxPoints = age / (selectedClass === "Mundano" ? 5 : 4) + (selectedClass === "Mundano" ? 4 : 5);

            if (attributes[attribute] + delta >= 1 && totalPoints + delta <= maxPoints) {
                attributes[attribute] += delta;
                document.getElementById(attribute).innerText = attributes[attribute];
                updatePointsInfo();
            }
        }

        // Atualização do total de pontos
        function updatePointsInfo() {
            const totalPoints = Object.values(attributes).reduce((a, b) => a + b, 0);
            const age = characterAge.value; // Obtém a idade do personagem
            const maxPoints = age / (selectedClass === "Mundano" ? 5 : 4) + (selectedClass === "Mundano" ? 4 : 5);
            totalPointsElement.innerText = `Total distribuído: ${totalPoints} / Máximo: ${Math.floor(maxPoints)}`;
            nextButtonAttributes.disabled = totalPoints !== Math.floor(maxPoints);
        }

        characterClass.addEventListener('change', () => {
            selectedClass = characterClass.value; // Atualiza a classe selecionada
            updatePointsInfo(); // Atualiza os pontos disponíveis ao mudar a classe
        });

        nextButtonAttributes.addEventListener('click', () => {
            if (selectedClass === "Mestre" && mestreField.value === "MENDAZ") {
                showPage(3); // Avança para a página de habilidades anomalias
            } else {
                showPage(4); // Avança para a página de habilidades padrão
            }
        });

        // Habilidades Anomalias
        characterClass.addEventListener('change', () => {
            if (characterClass.value === "Mestre") {
                mestreLabel.classList.remove('hidden');
                mestreField.classList.remove('hidden');
            } else {
                mestreLabel.classList.add('hidden');
                mestreField.classList.add('hidden');
                mestreField.value = ''; // Limpa o campo de senha
            }
        });

        mestreField.addEventListener('input', () => {
            if (characterClass.value === "Mestre" && mestreField.value === "MENDAZ") {
                nextButtonAnomalies.disabled = false;
                nextButtonAnomalies.classList.add('enabled');
            } else {
                nextButtonAnomalies.disabled = true;
                nextButtonAnomalies.classList.remove('enabled');
            }
        });

        nextButtonAnomalies.addEventListener('click', () => {
            showPage(4); // Avança para a página de habilidades padrão
        });

        // Habilidades Padrão
        skillsCheckboxes.forEach((checkbox) => {
            checkbox.addEventListener('change', () => {
                const maxSkills = selectedClass === "Mundano" ? 1 : 2; // Máximo de habilidades
                if (checkbox.checked) {
                    if (selectedSkills < maxSkills) {
                        selectedSkills++;
                    } else {
                        checkbox.checked = false; // Desmarca se o limite for atingido
                    }
                } else {
                    selectedSkills--;
                }

                skillsRemaining.innerText = `Habilidades restantes: ${maxSkills - selectedSkills}`;
                nextButtonStandardSkills.disabled = selectedSkills === 0;
            });
        });

        nextButtonStandardSkills.addEventListener('click', () => {
            showPage(5); // Avança para a página de desfecho
        });

        // Validação da Campanha
        const campaign = document.getElementById('campaign');
        const campaignCode = document.getElementById('campaignCode');
        const finishButton = document.getElementById('finishButton');

        campaign.addEventListener('change', validateCampaign);
        campaignCode.addEventListener('input', validateCampaign);

        function validateCampaign() {
            if (campaign.value === "Recomeço" && campaignCode.value.toUpperCase() === "C4NA2N") {
                finishButton.disabled = false;
                finishButton.classList.add('enabled');
            } else {
                finishButton.disabled = true;
                finishButton.classList.remove('enabled');
            }
        }

        finishButton.addEventListener('click', () => {
            alert("Bem-vindo à Campanha Recomeço!"); // Redirecione conforme necessário
        });

        function showPage(num) {
            document.getElementById('pageStart').classList.toggle('hidden', num !== 0);
            document.getElementById('pageCharacterData').classList.toggle('hidden', num !== 1);
            document.getElementById('pageAttributes').classList.toggle('hidden', num !== 2);
            document.getElementById('pageAnomalySkills').classList.toggle('hidden', num !== 3);
            document.getElementById('pageStandardSkills').classList.toggle('hidden', num !== 4);
            document.getElementById('pageEnd').classList.toggle('hidden', num !== 5);
        }

        showPage(0); // Exibir a página de entrada
    </script>
</body>
</html>
